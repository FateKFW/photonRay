package main

import (
	"fmt"
	"io/ioutil"
	"net"
)

//缓冲区大小
var BuffSize = 4096

//显示banner
func showBanner()  {
	var banner []byte
	banner,err := ioutil.ReadFile("./banner")
	if err!= nil {
		banner = []byte{32, 95, 95, 95, 95, 95, 32, 32, 95, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 95, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 95, 95, 95, 95, 95, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 13, 10, 124, 32, 32, 95, 95, 32, 92, 124, 32, 124, 32, 32, 32, 32, 32, 32, 32, 32, 32, 124, 32, 124, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 124, 32, 32, 95, 95, 32, 92, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 13, 10, 124, 32, 124, 95, 95, 41, 32, 124, 32, 124, 95, 95, 32, 32, 32, 95, 95, 95, 32, 124, 32, 124, 95, 32, 95, 95, 95, 32, 32, 95, 32, 95, 95, 32, 124, 32, 124, 95, 95, 41, 32, 124, 95, 95, 32, 95, 32, 95, 32, 32, 32, 95, 32, 13, 10, 124, 32, 32, 95, 95, 95, 47, 124, 32, 32, 95, 32, 92, 32, 47, 32, 95, 32, 92, 124, 32, 95, 95, 47, 32, 95, 32, 92, 124, 32, 32, 95, 32, 92, 124, 32, 32, 95, 32, 32, 47, 47, 32, 95, 32, 32, 124, 32, 124, 32, 124, 32, 124, 13, 10, 124, 32, 124, 32, 32, 32, 32, 124, 32, 124, 32, 124, 32, 124, 32, 40, 95, 41, 32, 124, 32, 124, 124, 32, 40, 95, 41, 32, 124, 32, 124, 32, 124, 32, 124, 32, 124, 32, 92, 32, 92, 32, 40, 95, 124, 32, 124, 32, 124, 95, 124, 32, 124, 13, 10, 124, 95, 124, 32, 32, 32, 32, 124, 95, 124, 32, 124, 95, 124, 92, 95, 95, 95, 47, 32, 92, 95, 95, 92, 95, 95, 95, 47, 124, 95, 124, 32, 124, 95, 124, 95, 124, 32, 32, 92, 95, 92, 95, 95, 32, 95, 124, 92, 95, 95, 32, 32, 124, 13, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 95, 95, 47, 32, 124, 13, 10, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 32, 124, 95, 95, 95, 47, 32}
	}
	fmt.Println(string(banner))
}

//读取字符串
func readString(conn net.Conn, size int) (string, error) {
	if size <= 0 {
		size = BuffSize
	}
	buff := make([]byte, BuffSize)
	n, err := conn.Read(buff)
	if err != nil {
		return "", err
	}
	return string(buff[:n]), nil
}

//异常处理
func checkErr(err error){
	if err!= nil {
		panic(err)
	}
}